{% extends 'base.html.twig' %}

{% block title %}Hello ConferencsController!{% endblock %}
{% block body %}
{# {{ parent() }} #}
{# foreach($conferences as $conference) => {% for conference in conferences %} #}
        {# {{ dump(prenom) }}
        {{ dump(prenom[0]['age']) }}

        {{ 'hello'|upper}} #}
    <div class="container">
        <div class="row">
        
        <div class="col-sm-4">
         {{ include("conferences/partials/_menu.html.twig") }}
        </div>
        <div class="col-sm-8">
        <div class="card border-secondary mb-3" style="max-width: 20rem;">
        <div class="card-header">{{ conference.titre}}</div>
        <div class="card-body">
        <p class="card-text">{{ conference.description }}</p>
        <h5 class="card-title">{{ conference.lieu }}</h5>
        <h5 class="card-title">{{ conference.date|date('d-m-Y') }}</h5>
        {# <a href="{{path('conference.supp', {'id':conference.id})}}">Supprimer</a> #}
        <a href="{{path('conference.edit', {'id':conference.id})}}">Modifier</a>
        <a href="{{path('conference.supp', {'id':conference.id})}}">Supprimer</a>
        <form action="" >
        <input type="hidden" name="idConference" value="{{ conference.id }}" />
        <input type="submit" value="commenter"/>
        </form>
        {# <a href="?idConference={{ conference.id }}" >Commenter </a> #}
        <a href="{{path('conference.index')}}">Retour</a>
        </div>
        </div>
{# {{ dump(app.request.query.get('idConference')) }} #}
{% if app.request.query.get('idConference') is not null %}
    {{ include('conferences/partials/_commentaire.html.twig') }}
{% endif %}
        {% if conference.commentaires is not null %}
        {% for commentaire in conference.commentaires %}
            <i>auteur: {{commentaire.pseudo }} </i><br>
            <i>commentaire: {{commentaire.content }} </i><br>
            <i>auteur: {{commentaire.publishedAt|date }} </i><br><br>
        {% endfor %}
        {% endif %}
        </div>
        </div>
     </div>
</div>
{% endblock %}
